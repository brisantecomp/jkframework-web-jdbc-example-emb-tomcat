<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:f="http://xmlns.jcp.org/jsf/core">
<ui:composition template="/WEB-INF/templates/default.xhtml">
<ui:define name="page-title">Department Management</ui:define>
<ui:define name="contents">
<h:form id="frmDepartment">
    <p:messages />
    <p:panelGrid columns="4" id="model" style="margin:auto">
    <p:autoUpdate />
    <f:facet name="header">#{msg.get('Department')} Form</f:facet>
      <p:outputLabel  value="#{msg.get('Name')}" for="Name"/>
      <p:inputText type="text" id="Name"  value="#{mbDepartment.model.name}" required="true" disabled="#{mbDepartment.readOnlyMode}" readOnly="#{mbDepartment.readOnlyMode}" placeholder="Enter value"/>
    
    <f:facet name="footer">
      <div align="center" style="height:30px">
     <p:commandButton value="Add" action="#{mbDepartment.add}" rendered="#{mbDepartment.allowAdd}"  process="model" />
     <p:commandButton value="Edit" action="#{mbDepartment.edit}"  rendered="#{mbDepartment.allowEdit}"  process="@this"/> 
     <p:commandButton value="Save" action="#{mbDepartment.save}" rendered="#{mbDepartment.allowSave}"  process="model" />
     <p:commandButton value="Delete" action="#{mbDepartment.delete}"  rendered="#{mbDepartment.allowDelete}"  process="@this"/>
     <p:commandButton value="Reset" action="#{mbDepartment.reset}"  rendered="#{mbDepartment.allowReset}"  process="@this"/>
     <p:commandButton value="Fill" action="#{mbDepartment.fill}"  rendered="#{mbDepartment.allowFill}"  process="@this"/>
     <p:commandButton value="Cancel Edit" action="#{mbDepartment.cancelEdit()}"  rendered="#{mbDepartment.editMode}"  process="@this"/>
      </div>
    </f:facet>
    </p:panelGrid>
    <br/>
    <p:dataTable value="#{mbDepartment.modelList}" var="model" rowKey="#{model.id}" 
    paginator="true" paginatorAlwaysVisible="false" paginatorPosition="bottom" selectionMode="single" 
    filteredValue="#{mbDepartment.filterList}" 
    selection="#{mbDepartment.model}"  emptyMessage="" rowIndexVar="row">
    <p:ajax event="rowSelect" update="@form:model" />
    <p:autoUpdate />
    <f:facet name="header">Departments Data Table</f:facet>
    <p:column headerText="#">#{row+1}</p:column>
      <p:column headerText="#{msg.get('Name')}" sortBy="#{model.name}" filterBy="#{model.name}" filterMatchMode="contains">
      <h:outputText value="#{model.name==null?'-':model.name}"  />
      </p:column>
    </p:dataTable>
</h:form>
</ui:define>
</ui:composition>
</html>
